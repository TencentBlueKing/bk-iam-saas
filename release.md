# V1.8.11

### 功能优化
* 监听ipv6

# V1.8.10
* 修复model_event变更事件由于数据转换出错而执行失败

# V1.8.9
* 新增分级管理员指引

# V1.8.8

### 缺陷修复
* 邮件文案调整
* windows窗口title问题
* 按需申请无限制问题
* 推荐操作重复问题

# V1.8.7

### 功能优化
* 无权限跳转申请页面优化
* 导航调整
* 通知邮件模板优化

# V1.8.6

### 缺陷修复
* 修复新建关联实例授权API白名单-监控白名单不生效问题

# V1.8.5

### 缺陷修复
* 修复推荐操作点击无法选中问题

# V1.8.4

### 新增功能
* 新增管理类API
  - 删除用户组策略
  - 支持回收用户组策略的资源实例权限
  - 分页查询某个系统创建的分级管理员列表
  - 更新分级管理员授权范围和基本信息
* 增强授权API - 支持授权与资源实例无关的操作权限
* 支持定时清理已完成的模型变更事件

### 功能优化
* Cache重构，统一使用Django Cache
* 完善各数据模型的数量限制
  - 资源ID限制36位
  - 每个系统可创建最多100个分级管理员
  - 一个分级管理员可添加的成员个数：100
  - 一个用户可加入的分级管理员个数：100
  - 一个分级管理员可创建的用户组个数: 100
* 分页参数由limit/offset调整为page/page_size
* 性能优化 - 每月审计表全局变量缓存
* Swagger重构

### 缺陷修复
* 修复前端相关体验问题

# V1.8.3

### 缺陷修复
* 只有临时权限时, 我的权限不展示问题
* 临时权限过期时间选择问题
* request_id 参数错误问题

# V1.8.2

### 缺陷修复
* 临时权限系统切换操作未清空问题
* 临时权限聚合操作资源选择问题

# V1.8.1

### 新增功能
* 无权限跳转增加推荐权限

# V1.8.0

### 新增功能
* 临时权限

# V1.7.19

### 缺陷修复
*  无权限跳转申请没有依赖操作的问题

# V1.7.18

### 缺陷修复
* 资源实例选择下级搜索报错问题

# V1.7.17

### 缺陷修复
* 聚合操作无限制问题修复

# V1.7.16

### 缺陷修复
* 聚合操作批量复制批量粘贴问题修复

# V1.7.15

### 缺陷修复
* 聚合操作选择相关问题修复
* 审批流程操作列表支持国际化

### 功能优化
* Django版本升级到2.2.27

# V1.7.14

### 新增功能
* 接入系统回调查询实例列表支持传祖先实例
* 聚合操作支持同时聚合多种资源类型

# V1.7.13

### 功能优化
* OpenAPI分页参数调整为page_size/page，对于admin.list_group/admin.list_group_member/mgmt.list_group/mgmt.list_group_member已开放接口，兼容limit/offset

# V1.7.12

### 缺陷修复
* 修复国际化的相关问题
* 优化导航菜单
* 修复已知bug

# V1.7.11

### 缺陷修复
* 修复分级管理员申请单ITSM展示问题
* 修复前端合并选择实例问题

### 功能优化
* sentry sdk切换

# V1.7.10

### 缺陷修复
* 查询资源有权限的subject修复跨系统资源查询报错

# V1.7.9

### 缺陷修复
* 修复资源权限管理查询接口报错问题
* 修复用户组跨页添加多个组权限，确定后，会缺失跨页选中的权限模板的问题
* 修复申请有关联权限，选择实例后，默认期限会变为不可更改的问题

# V1.7.8

### 缺陷修复
* 修复分级管理员下不能添加权限的问题
* 新增系统接入说明
* 修复用户组不存在导致用户组续期申请回调报错问题

# V1.7.7

### 功能优化
* 环境属性功能release

# V1.7.6

### 功能优化
* apigw 新增user-groups/department-groups两个开放 API
* 变更原policy查询三个api的路径, 增加 /open/(但是保持向前兼容: 老的public=false, 新增三个新的)
* apigw-manage 升级到 1.0.2
* apigw配置后端由SaaS Web调整为SaaS API

# V1.7.5

### 功能优化
* 对接APIGateway的SaaS Open API，其后端由bkiam-saas-web调整为 bkiam-saas-api

### 缺陷修复
* 修复前端用户组配置权限相关问题
* 组织架构部门同步修复了部门lft/rght/level数据错误问题

# V1.7.4

### 缺陷修复
* 修复healthz导致redis连接泄露问题
* 修复前端用户组配置权限没有显示资源类型问题

# V1.7.3

### 缺陷修复
* 修复自动注册apigateway配置错误

# V1.7.2

### 缺陷修复
* 修复权限模板变更操作报错
* 修复自动注册apigateway配置错误

# V1.7.1

### 新增功能
* 定时清理后台未被引用的expression

### 功能优化
* 优化操作审计信息
* 优化日志打印
* 优化SaaS Django配置, 去除blueapps依赖

# V1.7.0

### 新增功能
* 关联多个资源类型的操作支持配置多个实例组合
* 权限策略增加生效条件

# V1.6.5

### 缺陷修复
* 注册 API 网关配置错误

### 功能优化
* ESB及 Login 慢请求打component日志
* 增加bk_job操作file_resource的新建关联白名单


# V1.6.4

### 缺陷修复
* 修复权限交接bug
* 修复自动注册apigateway脚本错误
* 修复同步ITSM申请单状态报错

# V1.6.3

### 新增功能
* 查询有权限的subjects

# V1.6.2

### 新增功能
* opentelemetry链路跟踪

### 功能优化
* 增加权限交接功能开关

# V1.6.1

### 新增功能
* 权限交接

### 功能优化
* 前端重构

# V1.5.16

### 功能优化
* 组织架构同步时不删除后台用户和部门

### 缺陷修复
* 锁定依赖包typing-extensions版本，避免自动更新最新版导致部署失败

# V1.5.15

### 缺陷修复
* 修复LongTask改同步后, celery_id获取为None的问题
* 修复分级管理员权限Scope数据结构不兼容action_id问题

# V1.5.14

### 新增功能
* 支持初始化接入APIGateway的API和文档

### 功能优化
* 自动更新资源实例名称对大策略的防御性忽略
* 新增接入系统管理类API的bk_nocode白名单
* 调用第三方接口失败时支持返回异常信息
* 用户组授权调整为立即执行任务

### 缺陷修复
* 自动更新资源实例名称兼容接入系统回调异常
* 解决未资源实例视图为空时导致授权异常

# V1.5.13

### 新增功能
* 授权API白名单支持前缀匹配规则
* 自动更新策略里的重命名的资源实例

### 功能优化
* 组织名称tips显示完整路径
* 组织架构同步记录中的日志详情添加换行
* 接入系统管理类API对于创建分级管理员和用户组授权接口支持无限制资源实例的授权

### 缺陷修复
* 修复分级管理员用户组模板授权报错
* 修复无权限跳转推荐的用户组权限已过期的bug
* 后台任务清理用户组过期成员的审计异常
* 修复Action模型删除事件处理异常问题
* 解决migrate时依赖esb的问题
* 修复project_view问题导致系统授权报错

# V1.5.12

### 功能优化
* 增加用户同步记录
* 分级管理员修改操作范围后, 范围不一致的模板不能授权

# V1.5.11

### 功能优化
* redis版本降级2.10.6, 作为celery broker

### 缺陷修复
* 修复容器化版本的日志配置
* 修复redis timeout 配置问题

# V1.5.10

### 缺陷修复
* 修复越权访问用户组成员列表问题

# V1.5.9

### 缺陷修复
* 修复长时任务获取结果报错

# V1.5.8

### 功能优化
* 优化资源回调结构错误提示
* 长时任务重试

### 缺陷修复
* 修复更新模板未同步到用户组权限问题
* 修复非80/443端口时cookie domain错误问题
* 取消勾选对应权限的实例报错
* 修复后台关联数据时tag返回值bug

# V1.5.7

### 缺陷修复
* 修复url拼接多个/导致访问出错问题
* 修复前端人员列表组件范围地址错误问题

# V1.5.6

### 缺陷修复
* 修复管理类API-用户组自定义授权异步导致无法连续授权失败

# V1.5.5

### 缺陷修复
* 用户组更新模板授权报错

# V1.5.4

### 功能优化
* 自定义权限申请支持实例审批人
* 跳转申请不合并用户的已有权限
* 授权api返回策略的实例数量

### 缺陷修复
* 修复企业微信邮件中续期邮件链接显示问题
* 我的权限用户组权限查看态提示删除bug 
* 业务跳转权限中心申请权限，申请期限不能修改
* 修复通用操作显示问题

# V1.5.3

### 缺陷修复
* 修复v3 Smart包前端ESB地址
* 修复忽略路径bug导致授权信息错误
* 修复续期邮件企业微信邮箱链接显示问题
* 修改我的权限用户组权限查看态提示删除bug
* 修复资源实例无限制的权限，申请权限时不应该能修改
* 修复业务跳转权限中心申请权限，申请期限不能修改

# V1.5.2

### 功能优化
* 更新paas v3 smart配置
* 分享链接自动带上条件过滤

### 缺陷修复
* 修复权限策略部分删除报错问题
* 修复由于资源实例名称中存在空格导致授权报错问题
* 修复清理过期权限出错问题
* 修改权限审批使用系统管理员审批流程审批人员为空问题
* 修复管理类API创建用户组绑定分级管理员错误问题
* 修复管理类API创建分级管理员时授权范围没有按照系统聚合导致后续授权问题
* 修复未选择任何权限可保存为推荐权限模板
* 修复从配置平台跳转到权限中心无法选择
* 修复已有实例权限不应该纳入新实例申请限制数里
* 修复普通用户没有任何分级管理员时无法注销问题

# V1.5.1

### 缺陷修复
* 修复新建关联授权API由于注册的配置里存在资源类型层级导致失败问题

# V1.5.0

### 功能优化
* SaaS代码重构
* 开源代码优化

# V1.4.26

### 功能优化
* 分级管理员过滤问题
* 系统注册校验规则
* 回调地址校验合法性

### 缺陷修复
* 修复添加gsekit权限报错问题
* 修复差异对比异常

# V1.4.25

### 缺陷修复
* 申请单详情拒绝非申请人查看
* 操作列表拒绝非登录用户查看

# V1.4.24

### 功能优化
* 续期页面交互优化

### 缺陷修复
* v2migrate api权限模板增加授权对象出错bug修复
* 修复忽略路径授权实例失败的问题
* 修复自定义权限申请点击续期无响应问题

# V1.4.23

### 功能优化
* 申请侧有效期去掉“永久”时间
* 一些已知问题优化

### 缺陷修复
* 修复依赖操作自动填充过期时间为空问题
* 修复分级管理员选择人员范围保存失败问题
* 修复依赖操作实例变只读问题 
* 修复一些已知问题

# V1.4.22

### 缺陷修复
* 修复依赖操作自动填充过期时间为空问题

# V1.4.21

### 缺陷修复
* 修复CORS任意Origin请求的安全问题
* 修复编辑分级管理员页面报错
* 修复编辑用户组权限，新增自定义权限不保存再次编辑自定义权限，保存后添加的自定义权限不显示在权限页问题
* 修复申请自定义权限选择有关联权限后，后置权限选择实例，前置权限实例期限为空且不能修改的问题

# V1.4.20

### 缺陷修复
* 修复自定义权限申请，存在依赖关系时选择资源实例后不能再编辑的问题
* 修复自定义权限有效期为空的问题

# V1.4.19

### 新增功能
* 分级管理员相关操作链接支持角色 id 参数；支持自动切换分级管理员身份

### 功能优化
* 我的权限，只有一个系统的自定义权限时默认展开
* 更新ITSM新建关联API白名单

### 缺陷修复
* 修复删除分级管理员操作问题
* 修复组同时添加自定义权限和模板权限问题
* 修复分级管理员推荐权限显示问题
* 修复人员输入框带空格时导致的问题

# V1.4.18

### 功能优化
* 分级管理员编辑态优化

### 缺陷修复
* 无权限跳转有效期时间处理
* 权限模板更新问题
* 用户组添加权限依赖操作问题
* 组添加模板权限选择实例报错问题
* 用户组添加模板权限
* 分级管理员编辑操作问题
* 权限模板更新后还显示编辑中问题

# V1.4.17

### 缺陷修复
* 用户组添加模板权限选择实例样式错乱问题
* 用户组添加权限出现部分实例选择框不可点击问题
* 分级管理员编辑态优化，最大权限发范围默认折叠
* 权限模板更新后还显示「编辑中」问题

# V1.4.16

### 缺陷修复
* 修复用户组添加自定义权限报有效期错误
* 修复合并选择/批量编辑错误问题
* 修复用户组自定义权限依赖操作问题
* 修复分级管理员新增操作bug
* 修复分级管理员和用户组授权范围不一致问题
* 修复切换身份问题
* 修复用户组删除自定义权限报错
* 修复续期邮件跳转前端bug
* 修复用户组权限模板删除样式优化

# V1.4.15

### 新增功能
* 支持异步删除Action和删除Action的策略
* 用户组自定义权限支持删除某个操作权限功能
* 支持通过环境变量来启用系统接入的功能

### 功能优化
* 用户组权限编辑问题优化
* 用户组权限展示优化
* 授权用户组OpenAPI支持跳过分级管理员权限范围校验

### 缺陷修复
* 修复分级管理员文案问题
* 修复批量编辑（合并选择）选择实例自动展开问题

# V1.4.12

### 新增功能
* SaaS侧无权限跳转自动匹配用户组

### 功能优化
* 分级管理员切换身份优化

### 缺陷修复
* 修复申请用户组页面ID搜索bug
* 修复申请页面搜索条件缓存问题
* 修复退出分级管理员失败问题

# V1.4.11

### 新增功能
* 新增管理员API- 获取某个用户在某个分级管理员下的用户组列表
* 支持用户组授权API

### 缺陷修复
* 修复未配置IAM-Engine请求Endpoint的问题
* 修复当申请通过之前用户组已经被删除未忽略错误导致异常问题

# V1.4.10

### 新增功能
* 支持页面接入, 在页面配置并生成权限模型

# V1.4.9

### 缺陷修复
* 修复1.4.5开始引入的SaaS删除用户组，但后台未删除，导致权限错误的问题

# V1.4.8

### 新增功能
* 授权Open API支持有效期设置
* 批量授权Open API支持授予无限制范围的权限
* 支持删除策略订阅事件推送

### 功能优化
* Open API支持错误码1902409来表示重复名称等的冲突
* 我的权限页面排序调整

### 缺陷修复
* 修复过滤用户组时缺少全员范围判断的问题
* 修复无法删除分级管理员成员的问题
* 修复权限资源实例的Tips重复显示问题

# V1.4.7

### 新增功能
* 自动生成聚合操作配置
* 依赖操作
* 用户组支持按角色筛选
* ping api

# V1.4.6

### 新增功能
* 管理类API-创建分级管理员和用户组授权支持授予部分资源无限制
* 管理类API支持配置系统可管控授权的系统范围

# V1.4.5

### 功能优化
* 我的权限页面优化

### 缺陷修复
* 修复用户组删除时，其关联的权限模板成员数量无更新的问题
* 修复更新权限模板时名称可为空的问题
* 修复用户组授权时新增权限模板404
* 修复新增用户组时组权限为空报错问题

# V1.4.4

### 新增功能
* 新版权限模板
* 用户组自定义权限

### 功能优化
* 一些已知问题优化

### 缺陷修复
* 一些已知问题修复
